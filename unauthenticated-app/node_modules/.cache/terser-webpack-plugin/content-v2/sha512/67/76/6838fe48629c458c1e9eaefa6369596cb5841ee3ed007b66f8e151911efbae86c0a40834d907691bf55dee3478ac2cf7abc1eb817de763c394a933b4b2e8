{"code":"(this[\"webpackJsonpsecured-router\"]=this[\"webpackJsonpsecured-router\"]||[]).push([[0],{35:function(e,t,n){},59:function(e,t,n){\"use strict\";n.r(t);var c=n(1),r=n(0),s=n.n(r),a=n(28),o=n.n(a),u=(n(35),n(11)),i=n(2),j=n(9),b=n.n(j),l=n(12),p=n(18),d=n(13),h=n.n(d);var O=function(){var e=Object(r.useState)(),t=Object(p.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(),o=Object(p.a)(a,2),u=o[0],j=o[1],d=Object(i.f)(),O=function(){var e=Object(l.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(\"/authenticate\",{auth:{username:n,password:u}});case 3:t=e.sent,console.log(\"res \",t),200===t.status&&d.push(\"/protected\"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(\"div\",{className:\"App\",children:Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(\"label\",{children:\"Username: \"}),Object(c.jsx)(\"br\",{}),Object(c.jsx)(\"input\",{type:\"text\",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)(\"br\",{}),Object(c.jsx)(\"label\",{children:\"Password: \"}),Object(c.jsx)(\"br\",{}),Object(c.jsx)(\"input\",{type:\"password\",onChange:function(e){return j(e.target.value)}}),Object(c.jsx)(\"br\",{}),Object(c.jsx)(\"button\",{onClick:O,children:\"Login\"})]})})},x=function(){Object(i.f)();var e=function(){var e=Object(l.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(\"/protected\");case 3:t=e.sent,console.log(\"res \",t),200===t.status||(window.location=\"http://localhost:5000/\"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case\"end\":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){e()}),[]),Object(c.jsx)(\"div\",{})};var f=function(){return Object(c.jsx)(\"div\",{className:\"App\",children:Object(c.jsx)(u.a,{children:Object(c.jsxs)(i.c,{children:[Object(c.jsx)(i.a,{path:\"/protected\",children:Object(c.jsx)(x,{})}),Object(c.jsx)(i.a,{path:\"/\",children:Object(c.jsx)(O,{})})]})})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(f,{})}),document.getElementById(\"root\")),v()}},[[59,1,2]]]);","name":"static/js/main.3a9e8c4e.chunk.js","map":{"version":3,"sources":["static/js/main.3a9e8c4e.chunk.js"],"names":["this","push","35","module","exports","__webpack_require__","59","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","regenerator","regenerator_default","asyncToGenerator","slicedToArray","axios","axios_default","Public","_useState","Object","_useState2","username","setUsername","_useState3","_useState4","password","setPassword","history","auth","_ref","a","mark","_callee","res","wrap","_context","prev","next","get","sent","console","log","status","t0","stop","apply","arguments","className","children","type","onChange","e","target","value","onClick","src_Protected","getProtected","window","location","src_App","path","src_reportWebVitals","onPerfEntry","Function","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpsecured-router\"] = this[\"webpackJsonpsecured-router\"] || []).push([[0],{\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(28);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(9);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(13);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/Public.js\nfunction Login(){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var history=Object(react_router[\"f\" /* useHistory */])();var auth=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var res;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios_default.a.get(\"/authenticate\",{auth:{username:username,password:password}});case 3:res=_context.sent;console.log(\"res \",res);if(res.status===200){//we're using history here to relocate the user, but without\n//making a new HTTP call\nhistory.push(\"/protected\");}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function auth(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Username: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Password: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:auth,children:\"Login\"})]})});}/* harmony default export */ var Public = (Login);\n// CONCATENATED MODULE: ./src/Protected.js\nvar Protected_Protected=function Protected(){var history=Object(react_router[\"f\" /* useHistory */])();var getProtected=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var res;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios_default.a.get(\"/protected\");case 3:res=_context.sent;console.log(\"res \",res);if(res.status===200){//Even though we're already on at /protected\n//we have to reload (make a HTTP call) in order\n//to be able to fetch the index file for the private SPA.\n//window.location.reload();\n}else{window.location=\"http://localhost:5000/\";}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getProtected(){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){getProtected();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{});};/* harmony default export */ var src_Protected = (Protected_Protected);\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/protected\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Protected,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Public,{})})]})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 60)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[59,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/dagnygudmundsdottir/test/secured-routes/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/dagnygudmundsdottir/test/secured-routes/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/dagnygudmundsdottir/test/secured-routes/client/node_modules/postcss-loader/src/index.js??postcss!/Users/dagnygudmundsdottir/test/secured-routes/client/src/index.css","/Users/dagnygudmundsdottir/test/secured-routes/client/src/Public.js","/Users/dagnygudmundsdottir/test/secured-routes/client/src/Protected.js","/Users/dagnygudmundsdottir/test/secured-routes/client/src/App.js","/Users/dagnygudmundsdottir/test/secured-routes/client/src/reportWebVitals.js","/Users/dagnygudmundsdottir/test/secured-routes/client/src/index.js"],"names":["Login","useState","username","setUsername","password","setPassword","history","useHistory","auth","axios","get","res","console","log","status","push","e","target","value","Protected","getProtected","window","location","useEffect","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Login() {\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n\n  const history = useHistory();\n\n  const auth = async () => {\n    try {\n      const res = await axios.get(\"/authenticate\", {\n        auth: { username, password },\n      });\n      console.log(\"res \", res);\n      if (res.status === 200) {\n        //we're using history here to relocate the user, but without\n        //making a new HTTP call\n        history.push(\"/protected\");\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <div>\n        <label>Username: </label>\n        <br />\n        <input type=\"text\" onChange={(e) => setUsername(e.target.value)} />\n        <br />\n        <label>Password: </label>\n        <br />\n        <input type=\"password\" onChange={(e) => setPassword(e.target.value)} />\n        <br />\n        <button onClick={auth}>Login</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Protected = () => {\n  const history = useHistory();\n\n  const getProtected = async () => {\n    try {\n      const res = await axios.get(\"/protected\");\n\n      console.log(\"res \", res);\n      if (res.status === 200) {\n        //Even though we're already on at /protected\n        //we have to reload (make a HTTP call) in order\n        //to be able to fetch the index file for the private SPA.\n        //window.location.reload();\n      } else {\n        window.location = \"http://localhost:5000/\";\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    getProtected();\n  }, []);\n  return <div></div>;\n};\n\nexport default Protected;\n","import React from \"react\";\nimport { Switch, BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Public from \"./Public\";\nimport Protected from \"./Protected\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path=\"/protected\">\n            <Protected />\n          </Route>\n          <Route path=\"/\">\n            <Public />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}