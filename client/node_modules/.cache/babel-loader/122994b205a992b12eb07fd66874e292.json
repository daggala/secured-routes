{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dagnygudmundsdottir/tests/secured-router/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/dagnygudmundsdottir/tests/secured-router/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/dagnygudmundsdottir/tests/secured-router/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState}from\"react\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";function Login(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var history=useHistory();var auth=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/authenticate\",{auth:{username:username,password:password}});case 3:res=_context.sent;console.log(\"res \",res);if(res.data.screen!==undefined){history.push(\"/protected\");}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function auth(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username: \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password: \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:auth,children:\"Login\"})]})});}export default Login;","map":{"version":3,"sources":["/Users/dagnygudmundsdottir/tests/secured-router/client/src/Public.js"],"names":["React","useState","axios","useHistory","Login","username","setUsername","password","setPassword","history","auth","get","res","console","log","data","screen","undefined","push","e","target","value"],"mappings":"gfAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,QAASC,CAAAA,KAAT,EAAiB,eACiBH,QAAQ,EADzB,wCACRI,QADQ,eACEC,WADF,8BAEiBL,QAAQ,EAFzB,yCAERM,QAFQ,eAEEC,WAFF,eAIf,GAAMC,CAAAA,OAAO,CAAGN,UAAU,EAA1B,CAEA,GAAMO,CAAAA,IAAI,0FAAG,iLAESR,CAAAA,KAAK,CAACS,GAAN,CAAU,eAAV,CAA2B,CAC3CD,IAAI,CAAE,CAAEL,QAAQ,CAARA,QAAF,CAAYE,QAAQ,CAARA,QAAZ,CADqC,CAA3B,CAFT,QAEHK,GAFG,eAMTC,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAoBF,GAApB,EACA,GAAIA,GAAG,CAACG,IAAJ,CAASC,MAAT,GAAoBC,SAAxB,CAAmC,CACjCR,OAAO,CAACS,IAAR,CAAa,YAAb,EACD,CATQ,+EAWTL,OAAO,CAACC,GAAR,cAXS,oEAAH,kBAAJJ,CAAAA,IAAI,0CAAV,CAeA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,oCACE,qCADF,cAEE,aAFF,cAGE,cAAO,IAAI,CAAC,MAAZ,CAAmB,QAAQ,CAAE,kBAACS,CAAD,QAAOb,CAAAA,WAAW,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAA7B,EAHF,cAIE,aAJF,cAKE,qCALF,cAME,aANF,cAOE,cAAO,IAAI,CAAC,UAAZ,CAAuB,QAAQ,CAAE,kBAACF,CAAD,QAAOX,CAAAA,WAAW,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EAAjC,EAPF,cAQE,aARF,cASE,eAAQ,OAAO,CAAEX,IAAjB,mBATF,GADF,EADF,CAeD,CAED,cAAeN,CAAAA,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nfunction Login() {\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n\n  const history = useHistory();\n\n  const auth = async () => {\n    try {\n      const res = await axios.get(\"/authenticate\", {\n        auth: { username, password },\n      });\n\n      console.log(\"res \", res);\n      if (res.data.screen !== undefined) {\n        history.push(\"/protected\");\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <div>\n        <label>Username: </label>\n        <br />\n        <input type=\"text\" onChange={(e) => setUsername(e.target.value)} />\n        <br />\n        <label>Password: </label>\n        <br />\n        <input type=\"password\" onChange={(e) => setPassword(e.target.value)} />\n        <br />\n        <button onClick={auth}>Login</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}